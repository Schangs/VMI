doctype html
html(lang='de')
  head
    meta(charset='UTF-8')
    meta(http-equiv='X-UA-Compatible', content='IE=edge')
    meta(name='viewport', content='width=device-width, initial-scale=1')
    meta(name='description', content='')
    meta(name='author', content='')
    title #{automatennummer} - #{title}
    // Bootstrap Core CSS
    link(href='../vendor/bootstrap/css/bootstrap.min.css', rel='stylesheet')
    // MetisMenu CSS
    link(href='../vendor/metisMenu/metisMenu.min.css', rel='stylesheet')
    // Bootstrap Datepicker CSS
    link(href='../vendor/bootstrap-datepicker/css/bootstrap-datepicker.min.css', rel='stylesheet')
    // Custom CSS
    link(href='../dist/css/sb-admin-2.css', rel='stylesheet')
    // Custom CSS
    link(href='../stylesheets/style.css', rel='stylesheet')
    // Morris Charts CSS
    link(href='../vendor/morrisjs/morris.css', rel='stylesheet')
    // Custom Fonts
    link(href='../vendor/font-awesome/css/font-awesome.min.css', rel='stylesheet', type='text/css')
    // HTML5 Shim and Respond.js IE8 support of HTML5 elements and media queries
    // WARNING: Respond.js doesn't work if you view the page via file://
    //if lt IE 9
      script(src='https://oss.maxcdn.com/libs/html5shiv/3.7.0/html5shiv.js')
      script(src='https://oss.maxcdn.com/libs/respond.js/1.4.2/respond.min.js')
  body
    #wrapper
      // Navigation
      nav.navbar.navbar-default.navbar-static-top(role='navigation', style='margin-bottom: 0')
        .navbar-header
          button.navbar-toggle(type='button', data-toggle='collapse', data-target='.navbar-collapse')
            span.sr-only Toggle navigation
            span.icon-bar
            span.icon-bar
            span.icon-bar
          a.navbar-brand(href='/') VMI - Automat #{automatennummer}
        // /.navbar-header
        .navbar-default.sidebar(role='navigation')
          .sidebar-nav.navbar-collapse
            ul#side-menu.nav
              li
                a(href='/dashboard')
                  i.fa.fa-tachometer-alt.fa-fw
                  |  Dashboard
              li
                a(href='#')
                  i.fa.fa-hdd.fa-fw
                  |  VMC
                ul.nav.nav-second-level
                  li
                    a(href='/vmc/log')
                      i.fa.fa-list.fa-fw
                      |  Log
                  li
                    a(href='vmc/settings')
                      i.fa.fa-cog.fa-fw
                      |  Einstellungen
                  li
                    a(href='/vmc/info', target="_blank")
                      i.fa.fa-info.fa-fw
                      |  Info
                  li
                    a(href='/vmc/manual', target="_blank")
                      i.fa.fa-question-circle.fa-fw
                      |  Handbuch
              li
                a(href='/receipts')
                  i.fa.fa-list.fa-fw
                  |  Belegübersicht
          // /.sidebar-collapse
        // /.navbar-static-side
      #page-wrapper
        .row
          .col-lg-12
            h1.page-header Dashboard
          // /.col-lg-12
        // /.row
        .row
          .col-lg-3.col-md-6
            div#CPUPanel.panel.panel-success
              .panel-heading
                .row
                  .col-xs-3
                    i.fa.fa-server.fa-4x
                  .col-xs-9
                    div
                      p
                        strong CPU
                        span#CPUValue.pull-right
                      .progress.progress-striped.active
                        div#CPUProgressBar.progress-bar.progress-bar-success(role='progressbar', aria-valuenow='0', aria-valuemin='0', aria-valuemax='100', style='width: 0%')
          .col-lg-3.col-md-6
            div#RAMPanel.panel.panel-danger
              .panel-heading
                .row
                  .col-xs-3
                    i.fas.fa-microchip.fa-4x
                  .col-xs-9
                    div
                      p
                        strong RAM
                        span#RAMValue.pull-right
                      .progress.progress-striped.active
                        div#RAMProgressBar.progress-bar.progress-bar-danger(role='progressbar', aria-valuenow='0', aria-valuemin='0', aria-valuemax='100', style='width: 0%')
          .col-lg-3.col-md-6
            div#HDDPanel.panel.panel-success
              .panel-heading
                .row
                  .col-xs-3
                    i.fas.fa-hdd.fa-4x
                  .col-xs-9
                    div
                      p
                        strong#HDDMount
                        span#HDDValue.pull-right
                      .progress.progress-striped.active
                        div#HDDProgressBar.progress-bar.progress-bar-success(role='progressbar', aria-valuenow='0', aria-valuemin='0', aria-valuemax='100', style='width: 0%')
          .col-lg-3.col-md-6
            div#TEMPPanel.panel.panel-warning
              .panel-heading
                .row
                  .col-xs-3
                    i.fa.fa-thermometer-empty.fa-4x
                  .col-xs-9.text
                    div
                      p
                        strong TEMP
                        span.pull-right.huge #{systemp}°C
                      span  
        .row
          .col-lg-12
            h1 Verkaufsinformationen
          // /.col-lg-12
        // /.row
        .row
        .row
          .col-lg-4.col-md-6
            .panel.panel-primary
              .panel-heading
                .row
                  .col-xs-3
                    i.fa.fa-shopping-cart.fa-4x
                  .col-xs-9.text-right
                    .huge #{sales}
                    div Verkäufe
              a(href='/receipts')
                .panel-footer
                  span.pull-left Details
                  span.pull-right
                    i.fa.fa-arrow-circle-right
                  .clearfix
          .col-lg-4.col-md-6
            .panel.panel-green
              .panel-heading
                .row
                  .col-xs-3
                    i.fa.fa-euro-sign.fa-4x
                  .col-xs-9.text-right
                    .huge #{amount} €
                    div Umsatz
              a(href='/receipts')
                .panel-footer
                  span.pull-left Details
                  span.pull-right
                    i.fa.fa-arrow-circle-right
                  .clearfix
        // /.row
        .row
          .col-lg-12
            .panel.panel-default
              .panel-heading
                i.fa.fa-line-chart.fa-fw
                |  Verkäufe - 
                span#SelectedDate
                .pull-right
                  button#Datepicker.btn.btn-default.btn-xs(type='button')
                    | Anzeigen 
                    span.caret
              // /.panel-heading
              .panel-body
                #dayli-chart
              // /.panel-body
            // /.panel
          // /.col-lg-8
          // /.col-lg-4
        // /.row
      // /#page-wrapper
    // /#wrapper
    // jQuery
    script(src='../vendor/jquery/jquery.min.js')
    // Bootstrap Core JavaScript
    script(src='../vendor/bootstrap/js/bootstrap.min.js')
    // Metis Menu Plugin JavaScript
    script(src='../vendor/metisMenu/metisMenu.min.js')
    // Morris Charts JavaScript
    script(src='../vendor/raphael/raphael.min.js')
    script(src='../vendor/morrisjs/morris.min.js')
    // script(src='../data/morris-data.js')
    // Bootstrap Datepicker JavaScript
    script(src='../vendor/bootstrap-datepicker/js/bootstrap-datepicker.min.js')
    // Custom Theme JavaScript
    script(src='../dist/js/sb-admin-2.js')
    script(src='../javascripts/dashboard.js')
    script.
      var MyDate = new Date();
      var MyDateString;

      MyDate.setDate(MyDate.getDate());

      MyDateString = ('0' + MyDate.getDate()).slice(-2) + '.'
                  + ('0' + (MyDate.getMonth()+1)).slice(-2) + '.'
                  + MyDate.getFullYear();

      $('#SelectedDate').text(MyDateString)
      loadData(MyDateString);

      $('#Datepicker').datepicker({
        todayBtn: "linked",
        language: "de",
        format: "dd.mm.yyyy",
        calendarWeeks: true,
        autoclose: true,
        todayHighlight: true
      }).on('changeDate', function (ev) {
        $('#SelectedDate').text($("#Datepicker").data('datepicker').getFormattedDate('dd.mm.yyyy'))
        updateGraph($("#Datepicker").data('datepicker').getFormattedDate('dd.mm.yyyy'));
      });;